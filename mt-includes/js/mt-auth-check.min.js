/*! This file is auto-generated */
!function(i){var h,d,e;function r(){var e=window.adminpage,a=window.mt;i(window).off("beforeunload.mt-auth-check"),("post-php"===e||"post-new-php"===e)&&a&&a.heartbeat&&a.heartbeat.connectNow(),h.fadeOut(200,function(){h.addClass("hidden").css("display",""),i("#mt-auth-check-frame").remove(),i("body").removeClass("modal-open")})}i(document).on("heartbeat-tick.mt-auth-check",function(e,a){var o,t,n,c,s;"mt-auth-check"in a&&(a["mt-auth-check"]||!h.hasClass("hidden")||d?a["mt-auth-check"]&&!h.hasClass("hidden")&&r():(t=i("#mt-auth-check"),n=i("#mt-auth-check-form"),c=h.find(".mt-auth-fallback-expired"),s=!1,n.length&&(i(window).on("beforeunload.mt-auth-check",function(e){e.originalEvent.returnValue=window.mt.i18n.__("Your session has expired. You can log in again from this page or go to the login page.")}),(o=i('<iframe id="mt-auth-check-frame" frameborder="0">').attr("title",c.text())).on("load",function(){var e,a;s=!0,n.removeClass("loading");try{e=(a=i(this).contents().find("body")).height()}catch(e){return h.addClass("fallback"),t.css("max-height",""),n.remove(),void c.focus()}e?a&&a.hasClass("interim-login-success")?r():t.css("max-height",e+40+"px"):a&&a.length||(h.addClass("fallback"),t.css("max-height",""),n.remove(),c.focus())}).attr("src",n.data("src")),n.append(o)),i("body").addClass("modal-open"),h.removeClass("hidden"),o?(o.focus(),setTimeout(function(){s||(h.addClass("fallback"),n.remove(),c.focus())},1e4)):c.focus()))}).ready(function(){(h=i("#mt-auth-check-wrap")).find(".mt-auth-check-close").on("click",function(){r(),d=!0,window.clearTimeout(e),e=window.setTimeout(function(){d=!1},3e5)})})}(jQuery);